<main class="main-container">
    <section class="cosmetics-container">
        <div class="text-container">
            <h1>Latest cosmetics</h1>
            <h3>Ordered by newest first</h3>
        </div>
        <div class="text-container">
            <h3>This page shows the latest items added to the API. This means they might or might not be in the game yet.</h3>
        </div>
        <div class="search-container"
            [ngStyle]="{
                'display': showSearchbar ? 'flex' : 'none' 
            }">
            <app-search-bar (searchValueChange)="getSearchChange($event)" ></app-search-bar>
        </div>
        <div class="cosmetics-list">
            @for (cosmetic of allCosmetics; track $index) {
            <!-- Validation for Placeholder items and jam tracks (which have the field 'title' instead of 'name') -->
            <app-cosmetic-item [itemName]="cosmetic.name == 'null' ? 'Placeholder item' : 
                        cosmetic.title ? cosmetic.title : cosmetic.name" [image]="checkImageType(cosmetic)"
                [rarity]="cosmetic.rarity ? cosmetic.rarity.value : ''"
                [images]="isBrItem(cosmetic) ? getBrItemImages(cosmetic) : [] "
                [variantImgs]="isBrItem(cosmetic) ? getBrItemVariants(cosmetic) : [] "
                [seriesBackground]="getItemSeriesBackground(cosmetic)"
                [colorGradient]="getItemColorGradient(cosmetic)"
                >
            </app-cosmetic-item>
            }

            <!-- @for (item of brItems; track $index) {
                <app-cosmetic-item
                    [image]="checkImageType(item)"
                    [itemName]="item.name == 'null' ? 'Placeholder item': item.name"
                    [rarity]="item.rarity.value"
                    [images]="getBrItemImages(item)"
                    [variantImgs]="getBrItemVariants(item)"
                    >
                </app-cosmetic-item>
            }         

            @for (car of cars; track $index) {
                <app-cosmetic-item
                    [image]="checkImageType(car)"
                    [itemName]="car.name"
                    [rarity]="car.rarity.value"
                    >
                </app-cosmetic-item>
            }

            @for (instrument of instruments; track $index) {
                <app-cosmetic-item
                    [image]="checkImageType(instrument)"
                    [itemName]="instrument.name"
                    [rarity]="instrument.rarity.value"
                    >
                </app-cosmetic-item>
            }
            
            @for (track of jamTracks; track $index) {
                <app-cosmetic-item
                    [image]="checkImageType(track)"
                    [itemName]="track.title"
                    >
                </app-cosmetic-item>
            } -->

        </div>
    </section>
</main>